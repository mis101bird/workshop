
<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>
    <body>
    	[{"id":"2a98458f.dc50ca","type":"subflow","name":"百度翻譯","info":"","in":[{"x":276,"y":294.00000762939453,"wires":[{"id":"eb75bfb4.7bc97"}]}],"out":[{"x":1154.0000610351562,"y":332.00000762939453,"wires":[{"id":"6d62757.7bb3f8c","port":0}]}]},{"id":"5041728a.a05c6c","type":"function","z":"2a98458f.dc50ca","name":"","func":"var md5 = context.global.md5;\n\n\n//msg.payload='我 会 吃饭 打电动  看影片'\nvar ut=encodeURI(msg.payload);\n//appid+q+salt+密钥\nvar sign_word='20160512000020797'+msg.payload+'1435660288'+'PjAuPfz5BfOfrjjGjcZH';\n\nvar sign=md5(sign_word)\nmsg.url='http://api.fanyi.baidu.com/api/trans/vip/translate?q='+msg.payload+'&from=zh&to=cht&appid=20160512000020797&salt=1435660288&sign='+sign\n/*msg={\n    \n    q:msg.payload,\n    sign:sign,\n    from:'zh',\n    to:'cht',\n    appid:20160512000020797,\n    salt:1435660288\n    \n    \n    \n}*/\nreturn msg;","outputs":1,"noerr":0,"x":381.7418670654297,"y":642.9347381591797,"wires":[["ff9f873f.d1da48"]]},{"id":"86946bb0.60f3a8","type":"debug","z":"2a98458f.dc50ca","name":"","active":true,"console":"false","complete":"payload","x":1002.7363128662109,"y":951.5619201660156,"wires":[]},{"id":"ff9f873f.d1da48","type":"http request","z":"2a98458f.dc50ca","name":"","method":"GET","ret":"txt","url":"","x":612.7436370849609,"y":672.8558959960938,"wires":[["86946bb0.60f3a8","9ee1c90f.b2eff8"]]},{"id":"9ee1c90f.b2eff8","type":"json","z":"2a98458f.dc50ca","name":"","x":805.7388763427734,"y":665.6120910644531,"wires":[["b9122d8c.324ec","95e403b2.680f3"]]},{"id":"b9122d8c.324ec","type":"debug","z":"2a98458f.dc50ca","name":"","active":true,"console":"false","complete":"false","x":931.7568206787109,"y":824.8102722167969,"wires":[]},{"id":"95e403b2.680f3","type":"function","z":"2a98458f.dc50ca","name":"","func":"msg.payload=msg.payload.trans_result[0].dst\nreturn msg;","outputs":1,"noerr":0,"x":943.7375946044922,"y":674.0749053955078,"wires":[["9f51fa54.28b768"]]},{"id":"9f51fa54.28b768","type":"debug","z":"2a98458f.dc50ca","name":"","active":true,"console":"false","complete":"false","x":1118.7349090576172,"y":792.8198547363281,"wires":[]},{"id":"eb75bfb4.7bc97","type":"function","z":"2a98458f.dc50ca","name":"","func":"//msg.url='http://tommywu-iot-desinger.mybluemix.net/trans?text='+msg.payload;\nqStr=encodeURI(msg.payload);\nmsg.url='http://tommywu-iot-desinger.mybluemix.net/trans?text='+qStr;//%E4%BD%A0%E5%A5%BD%E7%8E%87'\nreturn msg;","outputs":1,"noerr":0,"x":632.8958129882812,"y":329.8888854980469,"wires":[["6d62757.7bb3f8c"]]},{"id":"6d62757.7bb3f8c","type":"http request","z":"2a98458f.dc50ca","name":"","method":"GET","ret":"txt","url":"","x":802.9652099609375,"y":330.2291564941406,"wires":[[]]},{"id":"ff34b7c7.02aeb8","type":"function","z":"dbff05bd.4b4958","name":"","func":"msg.payload=msg.payload.d.text;\nreturn msg;","outputs":1,"noerr":0,"x":389,"y":215,"wires":[["34567b9f.15d0d4"]]},{"id":"34567b9f.15d0d4","type":"subflow:2a98458f.dc50ca","z":"dbff05bd.4b4958","name":"","x":464,"y":316,"wires":[["dc044e77.24fa"]]},{"id":"9e2fa037.839db","type":"ibmiot in","z":"dbff05bd.4b4958","authentication":"boundService","apiKey":"","inputType":"evt","deviceId":"Amy","applicationId":"","deviceType":"robot","eventType":"text","commandType":"","format":"json","name":"IBM IoT","service":"registered","allDevices":false,"allApplications":"","allDeviceTypes":"","allEvents":false,"allCommands":"","allFormats":"","x":252,"y":115,"wires":[["f8c7a08d.63e7a","ff34b7c7.02aeb8"]]},{"id":"dc044e77.24fa","type":"switch","z":"dbff05bd.4b4958","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"你好嗎","vt":"str"},{"t":"eq","v":"你幾歲","vt":"str"},{"t":"eq","v":"你有男朋友嗎","vt":"str"}],"checkall":"true","outputs":3,"x":546,"y":215,"wires":[["84387f31.fa48a"],["8ee09cf9.49886"],["4309c360.65ba8c"]]},{"id":"f8c7a08d.63e7a","type":"debug","z":"dbff05bd.4b4958","name":"","active":true,"console":"false","complete":"false","x":551,"y":114,"wires":[]},{"id":"84387f31.fa48a","type":"function","z":"dbff05bd.4b4958","name":"","func":"msg.payload=\"我是小美，我很好\";\nmsg.format=\"string\";\nreturn msg;","outputs":1,"noerr":0,"x":700,"y":215,"wires":[["5bf1d342.0d984c"]]},{"id":"8ee09cf9.49886","type":"function","z":"dbff05bd.4b4958","name":"","func":"msg.payload=\"我才出生一天而已\";\nmsg.format=\"string\";\nreturn msg;","outputs":1,"noerr":0,"x":698,"y":268,"wires":[["5bf1d342.0d984c"]]},{"id":"4309c360.65ba8c","type":"function","z":"dbff05bd.4b4958","name":"","func":"msg.payload=\"有安裝我的人都是我的男朋友\";\nmsg.format=\"string\";\nreturn msg;","outputs":1,"noerr":0,"x":698,"y":322,"wires":[["5bf1d342.0d984c"]]},{"id":"5bf1d342.0d984c","type":"ibmiot out","z":"dbff05bd.4b4958","authentication":"boundService","apiKey":"","outputType":"cmd","deviceId":"Amy","deviceType":"robot","eventCommandType":"ch_tts_output","format":"string","data":"msg.payload","name":"IBM IoT","service":"registered","x":916,"y":121,"wires":[]}]
    </body>